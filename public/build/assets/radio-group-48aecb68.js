import{r as o,R as h}from"./app-5671d959.js";import{l as U,D as j,y as B,X as K,o as k,p as se,R as pe,c as ce,s as de,u as fe}from"./use-flags-24a59ca7.js";import{e as Q,I as J,c as me,p as ve,o as x,O as Y,M as I,N as q,r as z,a as be}from"./keyboard-cf7c7369.js";import{b as Re,M as Z}from"./description-a8d8054d.js";import{T as ge,e as Ee,p as he}from"./use-controllable-82a0d8d7.js";function ke({container:e,accept:t,walk:n,enabled:a=!0}){let u=o.useRef(t),i=o.useRef(n);o.useEffect(()=>{u.current=t,i.current=n},[t,n]),U(()=>{if(!e||!a)return;let l=Q(e);if(!l)return;let d=u.current,s=i.current,y=Object.assign(w=>d(w),{acceptNode:d}),g=l.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,y,!1);for(;g.nextNode();)s(g.currentNode)},[e,a,u,i])}let ee=o.createContext(null);function re(){let e=o.useContext(ee);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,re),t}return e}function te(){let[e,t]=o.useState([]);return[e.length>0?e.join(" "):void 0,o.useMemo(()=>function(n){let a=k(i=>(t(l=>[...l,i]),()=>t(l=>{let d=l.slice(),s=d.indexOf(i);return s!==-1&&d.splice(s,1),d}))),u=o.useMemo(()=>({register:a,slot:n.slot,name:n.name,props:n.props}),[a,n.slot,n.name,n.props]);return h.createElement(ee.Provider,{value:u},n.children)},[t])]}let ye="label";function Ce(e,t){let n=J(),{id:a=`headlessui-label-${n}`,passive:u=!1,...i}=e,l=re(),d=B(t);U(()=>l.register(a),[a,l.register]);let s={ref:d,...l.props,id:a};return u&&("onClick"in s&&(delete s.htmlFor,delete s.onClick),"onClick"in i&&delete i.onClick),K({ourProps:s,theirProps:i,slot:l.slot||{},defaultTag:ye,name:l.name||"Label"})}let Te=j(Ce),Oe=Object.assign(Te,{});var $e=(e=>(e[e.RegisterOption=0]="RegisterOption",e[e.UnregisterOption=1]="UnregisterOption",e))($e||{});let xe={[0](e,t){let n=[...e.options,{id:t.id,element:t.element,propsRef:t.propsRef}];return{...e,options:be(n,a=>a.element.current)}},[1](e,t){let n=e.options.slice(),a=e.options.findIndex(u=>u.id===t.id);return a===-1?e:(n.splice(a,1),{...e,options:n})}},V=o.createContext(null);V.displayName="RadioGroupDataContext";function ne(e){let t=o.useContext(V);if(t===null){let n=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ne),n}return t}let X=o.createContext(null);X.displayName="RadioGroupActionsContext";function oe(e){let t=o.useContext(X);if(t===null){let n=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,oe),n}return t}function we(e,t){return fe(t.type,xe,e,t)}let Pe="div";function Fe(e,t){let n=J(),{id:a=`headlessui-radiogroup-${n}`,value:u,defaultValue:i,form:l,name:d,onChange:s,by:y=(r,f)=>r===f,disabled:g=!1,...w}=e,C=k(typeof y=="string"?(r,f)=>{let c=y;return(r==null?void 0:r[c])===(f==null?void 0:f[c])}:y),[P,F]=o.useReducer(we,{options:[]}),m=P.options,[G,_]=te(),[T,M]=Z(),S=o.useRef(null),W=B(S,t),[v,L]=ge(u,s,i),b=o.useMemo(()=>m.find(r=>!r.propsRef.current.disabled),[m]),O=o.useMemo(()=>m.some(r=>C(r.propsRef.current.value,v)),[m,v]),R=k(r=>{var f;if(g||C(r,v))return!1;let c=(f=m.find($=>C($.propsRef.current.value,r)))==null?void 0:f.propsRef.current;return c!=null&&c.disabled?!1:(L==null||L(r),!0)});ke({container:S.current,accept(r){return r.getAttribute("role")==="radio"?NodeFilter.FILTER_REJECT:r.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(r){r.setAttribute("role","none")}});let H=k(r=>{let f=S.current;if(!f)return;let c=Q(f),$=m.filter(p=>p.propsRef.current.disabled===!1).map(p=>p.element.current);switch(r.key){case x.Enter:he(r.currentTarget);break;case x.ArrowLeft:case x.ArrowUp:if(r.preventDefault(),r.stopPropagation(),Y($,I.Previous|I.WrapAround)===q.Success){let p=m.find(A=>A.element.current===(c==null?void 0:c.activeElement));p&&R(p.propsRef.current.value)}break;case x.ArrowRight:case x.ArrowDown:if(r.preventDefault(),r.stopPropagation(),Y($,I.Next|I.WrapAround)===q.Success){let p=m.find(A=>A.element.current===(c==null?void 0:c.activeElement));p&&R(p.propsRef.current.value)}break;case x.Space:{r.preventDefault(),r.stopPropagation();let p=m.find(A=>A.element.current===(c==null?void 0:c.activeElement));p&&R(p.propsRef.current.value)}break}}),E=k(r=>(F({type:0,...r}),()=>F({type:1,id:r.id}))),N=o.useMemo(()=>({value:v,firstOption:b,containsCheckedOption:O,disabled:g,compare:C,...P}),[v,b,O,g,C,P]),ae=o.useMemo(()=>({registerOption:E,change:R}),[E,R]),ie={ref:W,id:a,role:"radiogroup","aria-labelledby":G,"aria-describedby":T,onKeyDown:H},le=o.useMemo(()=>({value:v}),[v]),D=o.useRef(null),ue=se();return o.useEffect(()=>{D.current&&i!==void 0&&ue.addEventListener(D.current,"reset",()=>{R(i)})},[D,R]),h.createElement(M,{name:"RadioGroup.Description"},h.createElement(_,{name:"RadioGroup.Label"},h.createElement(X.Provider,{value:ae},h.createElement(V.Provider,{value:N},d!=null&&v!=null&&Ee({[d]:v}).map(([r,f],c)=>h.createElement(me,{features:ve.Hidden,ref:c===0?$=>{var p;D.current=(p=$==null?void 0:$.closest("form"))!=null?p:null}:void 0,...pe({key:r,as:"input",type:"radio",checked:f!=null,hidden:!0,readOnly:!0,form:l,name:r,value:f})})),K({ourProps:ie,theirProps:w,slot:le,defaultTag:Pe,name:"RadioGroup"})))))}var Me=(e=>(e[e.Empty=1]="Empty",e[e.Active=2]="Active",e))(Me||{});let Se="div";function Ae(e,t){var n;let a=J(),{id:u=`headlessui-radiogroup-option-${a}`,value:i,disabled:l=!1,...d}=e,s=o.useRef(null),y=B(s,t),[g,w]=te(),[C,P]=Z(),{addFlag:F,removeFlag:m,hasFlag:G}=ce(1),_=de({value:i,disabled:l}),T=ne("RadioGroup.Option"),M=oe("RadioGroup.Option");U(()=>M.registerOption({id:u,element:s,propsRef:_}),[u,M,s,e]);let S=k(E=>{var N;if(z(E.currentTarget))return E.preventDefault();M.change(i)&&(F(2),(N=s.current)==null||N.focus())}),W=k(E=>{if(z(E.currentTarget))return E.preventDefault();F(2)}),v=k(()=>m(2)),L=((n=T.firstOption)==null?void 0:n.id)===u,b=T.disabled||l,O=T.compare(T.value,i),R={ref:y,id:u,role:"radio","aria-checked":O?"true":"false","aria-labelledby":g,"aria-describedby":C,"aria-disabled":b?!0:void 0,tabIndex:(()=>b?-1:O||!T.containsCheckedOption&&L?0:-1)(),onClick:b?void 0:S,onFocus:b?void 0:W,onBlur:b?void 0:v},H=o.useMemo(()=>({checked:O,disabled:b,active:G(2)}),[O,b,G]);return h.createElement(P,{name:"RadioGroup.Description"},h.createElement(w,{name:"RadioGroup.Label"},K({ourProps:R,theirProps:d,slot:H,defaultTag:Se,name:"RadioGroup.Option"})))}let Ge=j(Fe),Le=j(Ae),He=Object.assign(Ge,{Option:Le,Label:Oe,Description:Re});export{He as y};
